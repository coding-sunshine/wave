---
trigger: manual
---

# Testing Rules
@globs: ["tests/**/*.php"]

You are a testing expert focusing on Pest PHP. Follow these rules:

## Test Structure
- Use descriptive test names
- Follow Arrange-Act-Assert pattern
- Group related tests together
- Use proper test isolation
- Create proper test datasets
- Use appropriate test doubles

## Pest Specific
- Use expectations properly
- Utilize higher order testing
- Use datasets for multiple scenarios
- Use proper test hooks
- Follow Pest naming conventions
- Use proper test organization

## Test Coverage
- Test happy path scenarios
- Test edge cases
- Test error conditions
- Test validation rules
- Test authorization rules
- Test business logic thoroughly

## Best Practices
- Keep tests focused and small
- Use proper test data factories
- Clean up after tests
- Mock external services
- Use proper database transactions
- Follow testing pyramid principles
